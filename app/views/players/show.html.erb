<p id="notice"><%= notice %></p>

<p>
  <h3>
    <%= if @player.activated == true then "✔" else "✖" end %>
    <%= @player.name %> 
  </h3>
</p>
<table class="higlight">
  <tr>
    <td>Сыграно игр</td><td><%= @games.count %></td>

    <td>Первых мест</td><td><%= results_counter(@games, @player.id, 3).count %></td>
    <td>Вторых мест</td><td><%= results_counter(@games, @player.id, 2).count %></td>
    <td>Третьих мест</td><td><%= results_counter(@games, @player.id, 1).count %></td>
    <td>Четвертых мест</td><td><%= results_counter(@games, @player.id, 0).count %></td>

    <td>Лучший результат</td><td><%= results_counter(@games, @player.id, 3).max %></td>
  </tr>
</table>
<!-- Хз как делать проверку на место тут, с суммой я кое-как справился %) -->
<table class="striped result">
  <thead>
    <tr>
      <th></th>
      <th colspan="2">Восток</th>
      <th colspan="2">Юг</th>
      <th colspan="2">Запад</th>
      <th colspan="2">Север</th>
      <th style="text-align: right;">Сумма</th>
    </tr>
  </thead>
  <tbody>
  <% @games.each do |game| %>
    <tr>
      <td><%= link_to game.created_at.strftime("%Y.%m.%d"), game %></td>

      <td><%= get_player_name("east", game, @players) %></td>
      <td><%= game.score["east"]["player_score"] %></td>

      <td><%= get_player_name("south", game, @players) %></td>
      <td><%= game.score["south"]["player_score"] %></td>

      <td><%= get_player_name("west", game, @players) %></td>
      <td><%= game.score["west"]["player_score"] %></td>
      
      <td><%= get_player_name("north", game, @players) %></td>
      <td><%= game.score["north"]["player_score"]%></td>

      <td style="text-align: right;"><%= score_sum(game) %></td>
    </tr>
  <% end %>
  </tbody>
</table>